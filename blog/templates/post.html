{% extends 'base.html' %} {% block content %}
<main>
  <article>
    <h2>{{ post.title }}</h2>
    <p class="date">{{ post.published_date }}</p>
    <p class="body">{{ post.body }}</p>
    <p class="author">{{ post.author }}</p>
  </article>
  <div class="comments-container">
    <h3>Comments: {{ comments | length }}</h3>
    <form action="{% url 'create_comment' %}" method="post">
      {% csrf_token %}
      <input type="hidden" name="article" value="{{ post.pk }}">
      <label for="user_message">
        <span>Write a comment</span>
        <textarea
          name="message"
          id="user_message"
          cols="30"
          rows="1"
        ></textarea>
      </label>
      <label for="user_name">
        <span>name</span>
        <input type="text" name="name" id="user_name" />
      </label>
      <button type="submit">Add comment</button>
    </form>
    <ul class="comments">
      {% for comment in comments %}
      <li class="comment">
        <p class="comment-message">{{ comment.message }}</p>
        <p class="comment-user">- {{ comment.name }}</p>
        <p class="comment-date">{{ comment.created_at }}</p>
      </li>
      {% endfor %}
    </ul>
  </div>
</main>
{% endblock %}
